<!DOCTYPE html>
<script type="module">
	import { ProtoPages } from '/src/templator/ProtoPages.js';
	
	import '/src/layouts/Narrow.js';
	
	import '/src/components/forms/common.scss';
	
	import { StandardInput as Input } from '/src/components/forms/StandardInput.js';
	import { StandardButton as Button } from '/src/components/forms/StandardButton.js';
	import { StandardLink as Link } from '/src/components/forms/StandardLink.js';

	
	const context = { Input, Button, Link };
	
	context.title = 'Регистрация';
	
	const inputs = ProtoPages.JSON.stringify([
		{ name: 'email', type: 'email', label: 'Почта' },
		{ name: 'login', type: 'text', label: 'Логин' },
		{ name: 'first_name', type: 'text', label: 'Имя' },
		{ name: 'second_name', type: 'text', label: 'Фамилия' },
		{ name: 'phone', type: 'tel', label: 'Телефон' },
		{ name: 'password', type: 'password', label: 'Пароль' },
		{ name: 'password_again', type: 'password', label: 'Пароль (ещё раз)', 
			error: 'Пароли не совпадают' }
	]);
	
	context.contents = () => `
		<form name="reg" action="chats.html">
		
			<h1 class="container__header">%{title}%</h1>
			
			%{ Input(${inputs}...) }%
			
			<br><br>
			
			%{ Button({ "name": "submit", "type": "submit", "label": "Зарегистрироваться" }) }%
			
			%{ Link({ "url": "auth.html", "label": "Войти" }) }%

		</form>
	`;

	ProtoPages.compile(context);
		
</script>
