<!DOCTYPE html>
<script type="module">
	import {ProtoView} from '/src/modules/ProtoPages.js';
  import {NarrowLayout} from '/src/layouts/Narrow.js';

  const view = new ProtoView(NarrowLayout);
  const context = view.use({});

  context.title = 'Карта экранов приложения';
  
  const links = ProtoView.JSON.stringify([
    { url: 'auth.html', label: 'Вход' },
    { url: 'register.html', label: 'Регистрация' },
    { url: 'profile.html', label: 'Профиль' },
    { url: 'profile_edit.html', label: 'Редактирование профиля' },
    { url: 'profile_newpass.html', label: 'Смена пароля' },
    { url: 'chats.html', label: 'Чаты' },
    { url: '404.html', label: 'Страница 404' },
    { url: '500.html', label: 'Страница 500' }
  ]);

  context.Link = (props) => `
    <li class="container__row container__element_centered">
      <a href="${props.url}" class="container__link">${props.label}</a>
    </li>  
  `;

  context.contents = () => `
    <h1 class="container__header">%{title}%</h1>
    <nav><ul>
      %{ Link(${links}...) }%
    </ul></nav>
  `;

  view.render();

</script>
